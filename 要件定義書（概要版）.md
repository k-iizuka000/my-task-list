# 要件定義書

## 1. サイト(またはアプリ)の目的と概要

1. **目的**  
   - 自分自身のタスクやスケジュールを一元管理し、視覚化・優先度設定・期限管理・通知などを行うことで、効率的に自己管理を行う。  
   - 家族、友人、チームメンバーなど複数人での利用を想定しており、グループを作成してタスクやスケジュールを共有し、連携を図りやすくする。  
   - セキュリティ面を強化し、ユーザ情報・タスク情報を安全に管理する。

2. **概要**  
   - Webサイトまたはスマホアプリとして提供（レスポンシブデザイン対応）  
   - 複数ユーザが利用可能で、グループ機能を使ったタスク/スケジュールの共有ができる  
   - カレンダーを搭載し、日・週・月単位でタスクやスケジュールを可視化  
   - セキュリティ要件・ユーザビリティを重視した設計  

---

## 2. ユースケース

1. **個人ユーザ**  
   - 新規登録/ログイン/ログアウト  
   - タスクを追加・編集・削除  
   - タスクに優先度・期限・担当グループを設定  
   - カレンダー上でタスクや予定を管理  
   - 期限が近づいたタスクの通知を受け取る  
   - グループに参加/離脱  

2. **グループの管理者**  
   - グループを新規作成・編集（グループ名、メンバー招待）  
   - グループのメンバー権限管理（閲覧権限、編集権限など）  
   - グループ内でのタスク共有・スケジュール共有・通知設定  
   - グループからのメンバー除外（オプション）  

3. **システム管理者(全体管理者) [任意]**  
   - 全ユーザ・グループの管理  
   - システム全体の設定・保守（セキュリティポリシー適用、バージョンアップ管理など）  

---

## 3. 機能要件

### 3.1. 認証・アカウント管理機能

1. **ユーザ登録/ログイン/ログアウト**  
   - 必要項目：メールアドレス、パスワード（暗号化必須）  
   - SNSアカウント連携(log in with Googleなど)はオプション  

2. **パスワードリセット**  
   - パスワードを忘れた際の再設定プロセス  

3. **ユーザ情報編集**  
   - プロフィールや通知設定（メール・プッシュ通知等）の変更  

### 3.2. タスク管理機能

1. **タスク追加・編集・削除**  
   - タスク名、内容(メモ)、期限、優先度、担当グループ/担当者、進捗ステータスなど  

2. **優先度設定**  
   - 高・中・低、または数値ランクなど  

3. **期限管理**  
   - 年月日、（必要に応じて時刻）を設定  
   - 期限近づき通知のタイミング(○日前など)を可変に  

4. **タスク一覧/検索機能**  
   - 期限順、優先度順、グループ別、ステータス別などにフィルター・ソート可能  

5. **進捗管理**  
   - ステータス(未着手・進行中・完了など)を更新し、一覧や詳細で確認  

### 3.3. カレンダー機能 (必須)

1. **月/週/日表示**  
   - タスクをカレンダー上に反映  
   - 一覧と合わせて複数の表示切り替え  

2. **ドラッグ&ドロップ (オプション)**  
   - カレンダー上でタスクの日付を変更できるインタラクティブなUI  

3. **時間管理**  
   - タスクに所要時間を設定し、開始・終了時間の表示  

### 3.4. グループ機能 (必須)

1. **グループ作成・編集**  
   - グループ名、説明、アイコンなど（オプション）  

2. **メンバー招待/承認**  
   - メールアドレスなどでユーザを招待し、承認後にグループへ参加  

3. **権限管理**  
   - 管理者権限（メンバー追加/削除、タスク編集権限の設定など）  
   - 一般メンバー権限（タスク閲覧・編集、スケジュール参照など）  

4. **タスク・スケジュール共有**  
   - グループ内でのタスク・カレンダー共有  
   - 個人タスクとグループタスクを区別して表示  

### 3.5. 通知機能

1. **期限通知**  
   - 期限の○日前、当日など、ユーザが設定できる  

2. **グループ関連通知**  
   - グループ内タスクの作成・編集・完了時にプッシュ通知やメールを送信（任意設定可能）  

3. **ステータス変更通知 [オプション]**  
   - タスクのステータス変更時に関係者に通知  

### 3.6. 共有機能

1. **個人⇔グループ間の切替**  
   - タスクやスケジュールが個人なのか、どのグループに所属しているのかを区別  

2. **権限に基づくアクセス制御**  
   - 閲覧/編集を許可する範囲を細かく設定できるようにする（オプション）  

---

## 4. 非機能要件

### 4.1. セキュリティ (必須)

1. **通信の暗号化**  
   - HTTPS(TLS/SSL)による暗号化  

2. **パスワード管理**  
   - パスワードのハッシュ化（PBKDF2, bcrypt, Argon2等の安全な手法推奨）  

3. **認証強化**  
   - 2段階認証(2FA)はオプション  

4. **アクセス制御**  
   - グループごとの権限設定、個人情報やタスク情報の不正アクセス防止  

5. **ログ管理**  
   - ログイン履歴や操作履歴、エラーログを記録し、セキュリティ監査に活用  

### 4.2. ユーザビリティ (必須)

1. **UI/UX設計**  
   - 直感的に操作できるデザイン(例：ドラッグ＆ドロップカレンダー)  
   - 一目で重要タスクや期限がわかるデザイン  

2. **レスポンシブ対応**  
   - スマホ/タブレット/PCで違和感なく利用可能  

3. **アクセシビリティ**  
   - 色覚への配慮(コントラスト比)、フォントサイズ調整など  

4. **操作ガイド/ヘルプ**  
   - 初心者向けのチュートリアル、FAQ、問い合わせフォームなど  

### 4.3. 拡張性・保守性

- 繰り返しタスクや外部API連携(Googleカレンダーなど)を後日拡張しやすいアーキテクチャ  
- コード管理(Git等)とCI/CDの導入による保守性・継続開発のしやすさ  

### 4.4. パフォーマンス

- 同時接続ユーザ数やDBアクセス負荷を想定し、キャッシュ戦略や非同期処理を検討  
- レスポンス時間の目標値(例：平均1秒以内)などを設定  

### 4.5. 信頼性・可用性

- データバックアップ、冗長構成の検討  
- 定期的な保守点検、障害時の復旧手順の整備  

---

## 5. 画面イメージ (概要)

1. **ログイン/新規登録画面**  
   - メールアドレス/パスワード入力フォーム  

2. **ダッシュボード(ホーム画面)**  
   - 当日のタスクや、期限が迫っているタスクの一覧  
   - グループごとのタスク件数・未完了数などを可視化  

3. **タスク一覧画面**  
   - タスク名、期限、優先度、担当グループ、ステータスなどの一覧表示  
   - フィルタ(グループ、ステータス、優先度)やソート機能  

4. **カレンダー画面**  
   - 月/週/日別にタスクやスケジュールを表示  
   - タスクのドラッグ＆ドロップによる日付変更(オプション)  

5. **タスク詳細画面**  
   - タスク名、内容、担当グループ/担当者、優先度、期限、進捗ステータス等  

6. **グループ管理画面**  
   - グループの作成/編集、メンバー招待、権限設定  

---

## 6. データ項目 (例)

- **ユーザテーブル**  
  - `user_id` (PK)  
  - `email` (ユニーク)  
  - `password` (ハッシュ)  
  - `name` (表示名)  
  - `role`（一般 / 管理者）  
  - `登録日時`, `更新日時`  

- **グループテーブル**  
  - `group_id` (PK)  
  - `group_name`  
  - `group_description`  
  - `group_owner` (作成者ユーザID)  
  - `登録日時`, `更新日時`  

- **グループメンバーテーブル**  
  - `group_id`, `user_id` (複合主キー)  
  - `role` (権限: 管理者, 一般など)  
  - `登録日時`, `更新日時`  

- **タスクテーブル**  
  - `task_id` (PK)  
  - `title` (タスク名)  
  - `description` (詳細)  
  - `priority` (優先度)  
  - `status` (ステータス: 未着手, 進行中, 完了など)  
  - `due_date` (期限日)  
  - `due_time` (オプション：期限時刻)  
  - `group_id` (所属グループ / 0 or nullは個人タスク)  
  - `担当ユーザID` (オプション)  
  - `作成日時`, `更新日時`  

- **通知テーブル (オプション)**  
  - `notification_id` (PK)  
  - `user_id` (通知先ユーザ)  
  - `message` (通知内容)  
  - `status` (未読 / 既読)  
  - `timestamp`  

---

## 7. 運用・保守

1. **ユーザサポート**  
   - 使い方ガイド(チュートリアル)、FAQ  
   - 問い合わせフォーム、メール対応  

2. **障害対応**  
   - エラーログ・アクセスログの収集  
   - 定期バックアップ・復旧手順の整備  

3. **バージョン管理・デプロイ**  
   - Gitリポジトリでのソース管理  
   - CI/CDパイプラインの整備（テストの自動化・ステージング環境での確認後、本番反映）  

---

## 8. スケジュール (例)

| フェーズ               | 期間(目安)     | 内容                                       |
|------------------------|----------------|--------------------------------------------|
| 要件定義フェーズ       | 1～2週間       | ヒアリング、要件洗い出し                   |
| 基本設計・詳細設計     | 2～4週間       | 画面設計、DB設計、機能定義                 |
| 実装フェーズ           | 4～8週間       | フロントエンド・バックエンド実装           |
| テストフェーズ         | 1～2週間       | 機能テスト、総合テスト、UIテスト           |
| リリース準備・リリース | 1～2週間       | 本番環境リリース、検証                     |
| **合計**              | 約2～4ヶ月程度 | 開発規模や機能数により変動                 |

---

## 9. 今後の検討事項

- **繰り返しタスク**（毎日/毎週/特定曜日など）  
- **外部サービス連携**（GoogleカレンダーやSNS共有など）  
- **ネイティブアプリ/クロスプラットフォーム開発**  
- **通知のカスタマイズ**（優先度に応じて通知頻度を変えるなど）  
- **2段階認証**の導入検討  
- **AI支援**（タスクの自動整理、レコメンド機能などは将来的なオプションとして検討可能）  

---
